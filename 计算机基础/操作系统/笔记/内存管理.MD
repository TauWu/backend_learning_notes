# 内存管理

## 内存管理基础
### 内存管理概念
- 程序装入与链接
    - 程序包括代码、数据和堆栈三个部分。
- 逻辑地址和物理地址空间
    - 物理地址空间：硬件支持的地址空间
    - 逻辑地址空间：CPU运行时，进程看到的进程空间
    - 逻辑地址的生成：高级语言源码 --编译--> 指令汇编码 --编译--> 二进制代码 --链接：函数库平移--> 调用函数库（如果需要调用别的内存地址的函数）
    - 程序加载重定位（逻辑地址平移）：内存实际分配位置不一定从0开始
    - 编译时：假设起始地址已知，如果起始地址改变必须重新编译
    - 加载时：如编译起始位置未知，编译器需要生成可重新定位的代码，加载时需要生成绝对地址
    - 执行时：执行代码可移动，需要地址转换（映射的支持）
- 内存保护

### 连续分配管理方式
给进程分配一块不小于指定大小的连续的物理内存区域（代码数据堆栈）
- 内存碎片：无法利用的空闲内存
    - 外部碎片：两个区域之间的未被使用区域
    - 内部碎片：分配单元内部的未被使用内存，取决于分配单元大小是否需要取整
    - 动态分区分配：（指定大小、可变、地址连续）
        - 操作系统维护数据结构：
        - 策略：