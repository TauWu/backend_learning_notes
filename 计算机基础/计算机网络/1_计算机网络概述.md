# 计算机网络概述

## 网络的发展
- 计算机网络 = 计算机 + 通信 + 用户需求
- 计算机发展过程：
    1. 单机：单个用户独占系统资源（主机）
    2. 分时系统：分时多用户系统：多个用户利用多台终端共享单台计算机的资源
    3. 远程访问系统：利用通信线路将远程终端连接到主机，不受地域限制地使用计算机资源
    4. 网络：将多台计算机连接在一起，相互共享资源
- 计算机网络
    - 以 **共享资源** （硬件、软件和数据资源等）为目的而连接起来的、 **在协议控制下**，由一台或多台计算机、若干台终端设备、数据传输设备等组成的系统的集合。这些计算机系统应当具有能 **独立自治能力** 的操作系统。
- 计算机联网的主要目的：
    - 1. 资源共享：
        - 硬件共享：大型计算机的处理能力，昂贵的外设
        - 软件共享：应用软件、系统软件等
        - 数据共享：用户数据等
    - 2. 数据传输：
        - 支持用户之间的数据传输（如 smtp、ftp、ip 等），计算机网络可以使得分布于全球的计算机协作起来，形成一个巨大、虚拟的计算机。
- 网络的类型：
    - 根据网络覆盖范围
        - Wide Area Network (WAN) 广域网
        - Local Area Network (LAN) 局域网
        - Metropolitan Area Network (MAN) 城域网
        - Campus Network / Enterprise Network 园区网
    - 按照网络的拓扑结构
        - 星型拓扑结构：以一台中心处理机为主构成的网络，其他的入网机器仅与该中心处理机之间有直接的物理链路，**所有网上传输的信息需要该处理机转发**。
            - 网络结构简单，集中式的便于管理
            - 每台入网机均需要物理线路和处理机互连，线路利用率较低
            - 处理机负载重（需要处理所有服务），两台入网机之间交换信息也需要通过中心处理机
            - 入网主机故障将影响整个网络的正常工作，中心机的故障将导致网络瘫痪。
        - 总线拓扑结构：所有入网机器公用一条物理传输信道
            - **多台机器公用一条传输信道**，信道利用率高
            - 同一时刻只能由两台计算机通信
            - 某一个结点的故障不影响网络的工作
            - 网络的延伸距离有限，节点数有限
            - 适用于局域网（LAN）布置
        - 环形拓扑结构：入网设备通过 **转发器** 接入网络，每个转发器仅与两个相邻的转发器有直接的物理线路，所有的转发器构成了环状的物理结构
            - 实时性较好（信息在网中传输的最大时间固定）
            - 每个结点只与相邻的两个结点有物理链路，传输控制机制比较简单
            - 某个结点的故障将会导致网络的故障
            - 结点数量有限
            - 适用于局域网，实时性要求比较高的系统
        - 网状拓扑结构：利用专门负责数据通信和传输的 **结点机** 构成入网设备直接接入结点机进行通信。**两个结点直接的连接不唯一、完整性、可靠性较高**
            - 主要用于地理范围大、入网主机多的环境，常用于构建广域网。
        - 树状拓扑结构：星型拓扑结构的拓展
    - 按照管理性质分类
        - 公用网（电话网等）
        - 专用网（军事网、电力网等）
        - 利用公用网组建专用网（教育网、政府机构网等）
        - 互联网（Internet）
        - 内部网（Intranet）
        - 外部网（Extranet）
    - 按照交换方式分类（信息在网络设备中的传输方式）
        - 电路交换网网：采用电话工作的方式，具有 **建立链路**、**数据传输** 和 **释放链路** 三个阶段；通信过程中，自始至终占用该条线路且不允许其他用户共享其信道容量。
        - 报文交换网：交换机采用具有 **存储-转发** 能力的计算机，用户数据可以暂时保存在交换机内，等待线路空闲时，在进行用户数据的一次性传输。
        - 分组交换网
            - 类同报文交换技术，规定了交换机处理和传输的数据长度（分组长度）
            - 不同用户的数据分组可以交织地在网络的物理链路上传输
            - 目前，大多数计算机网络都采用了分组交换技术
    - 按照功能分类
        - 通信子网：网络中 **面向数据传输或者数据通信**的部分资源集合，主要支持用户的传输；该子网包括 **传输线路、交换机和网络控制中心** 等软硬件设施。
        - 资源子网：网络中 **面向数据处理**的资源集合，主要支持用户的应用；该子网由用户的主机资源组成，包括接入网络的用户主机、面向应用的外设、软件和可共享数据。
- 通信协议的基本概念
    - 进程间通信：各进程间相互制约的 **等待 或 互通消息**。
        - 同一系统中：共享内存、共享缓冲区、共享文件、等待方式、并行方式
        - 不同系统间：两台计算机间的进程通信通过网络，越过通信链路
    - 网络通信的基本结构：
        - 网络控制程序（NCP）：负责控制和监视进程使用网络资源的情况，具有建立通信链路、分配存储器、控制计算机与网络之间信息流的功能。
        - 通信接口和接口程序：为两个系统的设备和部件之间连接服务的。
    - 网络通信接口性质：
        - 物理层面：接口有多少插脚
        - 电气层面：电路信号的电压、和时间的关系
        - 逻辑上：数据流如何通过接口”流“到线路上，如何控制等
        - 过程：说明数据流穿入接口时的命令、顺序、控制信息的内容等
    - 网络通信协议：一组 **约定和规则** 的集合
        - 通信的两个实体在通信内容、通信方式和通信时序方面，需要遵循相互可以接收的协议（相同或者兼容的协议）
        - 协议的三要素：
            - 语法：确定通信双方通信时数据报文的格式
            - 语义：确定通信双方通信的内容
            - 时序规则：指出通信双方信息交互的顺序（建链、数据传输、拆链、数据重传等）
        - 网络通信协议举例（ftp 协议）：
            - 1. 建链请求/确认格式 => Conn | 发送方IP、接收方IP、状态
            - 2. 发送文件请求/确认格式 => Send | 发送方文件名、接收方文件名、文件大小、...、状态
            - 3. 发送记录格式 => Rec | 记录长度、记录序号、记录内容
            - 4. 拆链请求/确认格式 => Disc | 发送方IP、接收方IP、状态